<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Console</title>
</head>
<body>

</body>
<script>
    const {ipcRenderer} = require("electron");

    ipcRenderer.on('update_available', () => {
        ipcRenderer.removeAllListeners('update_available');
        document.getElementById('message').innerText = 'A new update is available. Downloading now...';
        document.getElementById('notification').classList.remove('hidden');
    });
    ipcRenderer.on('update_downloaded', () => {
        ipcRenderer.removeAllListeners('update_downloaded');
        document.getElementById('message').innerText = 'Update Downloaded. It will be installed on restart. Restart now?';
        document.getElementById('restart-button').classList.remove('hidden');
        document.getElementById('notification').classList.remove('hidden');
    });

    window.addEventListener("load",() => {
        document.getElementById("close-button").addEventListener("click",() => {
            document.getElementById('notification').classList.add('hidden');
        });

        document.getElementById("restart-button").addEventListener("click",() => {
            ipcRenderer.send('restart_app');
        });
    });

</script>
</html>
